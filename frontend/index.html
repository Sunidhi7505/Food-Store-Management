<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Foody | Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>

<nav class="navbar">
  <h1 onclick="window.location.href='index.html'">ğŸ” Foody</h1>
  <ul id="navLinks"></ul>
</nav>

<div class="container">
  <h2 style="margin-bottom:10px;">Popular Dishes ğŸ˜‹</h2>


<div class="filter-bar">

  <input id="searchKeyword" class="filter-input"
         placeholder="ğŸ” Search dishes..." />

  <input id="minPrice" class="filter-input"
         type="number" placeholder="Min â‚¹" />

  <input id="maxPrice" class="filter-input"
         type="number" placeholder="Max â‚¹" />

  <select id="availability" class="filter-select">
    <option value="">All</option>
    <option value="true">Available</option>
    <option value="false">Unavailable</option>
  </select>

  <select id="sortBy" class="filter-select">
    <option value="">Sort</option>
    <option value="price">Price</option>
    <option value="name">Name</option>
  </select>

  <select id="direction" class="filter-select">
    <option value="asc">Asc</option>
    <option value="desc">Desc</option>
  </select>

  <button class="btn btn-primary"
          onclick="applyFilters()">
    Apply
  </button>

</div>


  <div id="productGrid" class="product-grid"></div>

  <div id="emptyState" class="empty" style="display:none;">
    <h2>No products found</h2>
  </div>
</div>

<div class="footer">
  Â© 2026 Foody. All rights reserved.
</div>


<script src="js/api.js"></script>
<script src="js/products.js"></script>

<script>
  const nav = document.getElementById("navLinks");
  const user = getUser();

  let links = `<li><a href="index.html">Home</a></li>`;

  if (!user) {
    links += `<li><a href="login.html">Login</a></li>`;
  } else if (user.role === "ROLE_ADMIN") {
    links += `<li><a href="admin.html">Admin</a></li>`;
    links += `<li><a href="#" onclick="logout()">Logout</a></li>`;
  } else {
    links += `
      <li>
        <a href="cart.html">
          Cart <span class="badge" id="cartCount">0</span>
        </a>
      </li>
      <li><a href="orders.html">Orders</a></li>
      <li><a href="#" onclick="logout()">Logout</a></li>
    `;
  }

  nav.innerHTML = links;
</script>

</body>
</html>
